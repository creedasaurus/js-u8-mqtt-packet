import {hex_to_u8} from 'u8-utils'
import {mqtt_session} from 'u8-mqtt-packet'

export const { assert, expect } = require('chai')

export function mqtt_decode_one_hex(hex_pkt, _pkt_ctx_) ::
  const [mqtt_decode] = mqtt_session(_pkt_ctx_)
  const [pkt0, pkt1] = mqtt_decode @ hex_to_u8(hex_pkt)
  expect(pkt1).to.be.undefined
  return pkt0

